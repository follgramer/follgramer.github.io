<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Secure Vault - File System</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <style>
    /* --- CONFIGURACIÓN BASE --- */
    :root {
      --bg-dark: #0d1117;
      --glass-bg: rgba(22, 27, 34, 0.7);
      --glass-border: rgba(255, 255, 255, 0.08);
      --accent: #00e187;
      --accent-glow: rgba(0, 225, 135, 0.2);
      --text-main: #c9d1d9;
      --folder-hover: rgba(255, 255, 255, 0.05);
    }

    * { margin: 0; padding: 0; box-sizing: border-box; user-select: none; }

    body {
      height: 100vh;
      background: radial-gradient(circle at top center, #1f2937 0%, #0d1117 100%);
      font-family: 'Inter', sans-serif;
      color: var(--text-main);
      overflow: hidden;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    /* --- PANTALLA 1: CANDADO (LOCKSCREEN) --- */
    #lock-screen {
      position: absolute;
      z-index: 50;
      display: flex;
      flex-direction: column;
      align-items: center;
      transition: transform 0.8s cubic-bezier(0.8, 0, 0.2, 1);
    }
    
    #lock-screen.slide-up { transform: translateY(-150vh); }

    .lock-icon-svg { width: 100px; height: 120px; margin-bottom: 20px; overflow: visible; }
    .shackle { fill: none; stroke: #8b949e; stroke-width: 12; stroke-linecap: round; transform-origin: 85px 60px; transition: all 0.5s cubic-bezier(0.5, 0, 0.2, 1.5); }
    .shackle.open { stroke: var(--accent); transform: translateY(-15px) rotate(-25deg); }
    .body-lock { fill: #da3633; transition: fill 0.5s; }
    .body-lock.open { fill: var(--accent); }

    .status-msg { font-family: 'JetBrains Mono', monospace; font-size: 1.2rem; color: var(--accent); opacity: 0; transform: translateY(10px); transition: all 0.5s; }
    .status-msg.visible { opacity: 1; transform: translateY(0); }

    .enter-btn {
      margin-top: 30px;
      padding: 12px 30px;
      background: var(--accent-glow);
      border: 1px solid var(--accent);
      color: var(--accent);
      font-family: 'JetBrains Mono', monospace;
      cursor: pointer;
      opacity: 0;
      pointer-events: none;
      transition: all 0.3s;
    }
    .enter-btn:hover { background: var(--accent); color: #000; box-shadow: 0 0 20px var(--accent-glow); }
    .enter-btn.visible { opacity: 1; pointer-events: all; }

    /* --- PANTALLA 2: SISTEMA DE ARCHIVOS --- */
    #desktop {
      width: 90%;
      height: 85%;
      max-width: 1200px;
      background: var(--glass-bg);
      backdrop-filter: blur(20px);
      border: 1px solid var(--glass-border);
      border-radius: 12px;
      box-shadow: 0 50px 100px -20px rgba(0,0,0,0.7);
      display: flex;
      flex-direction: column;
      opacity: 0;
      transform: scale(0.95);
      transition: all 0.6s ease 0.3s;
    }
    
    #desktop.active { opacity: 1; transform: scale(1); }

    /* Header Ventana */
    .window-bar {
      height: 45px;
      border-bottom: 1px solid var(--glass-border);
      display: flex;
      align-items: center;
      padding: 0 20px;
      gap: 10px;
    }
    .dots { display: flex; gap: 8px; }
    .dot { width: 12px; height: 12px; border-radius: 50%; }
    .dot.r { background: #ff5f57; } .dot.y { background: #febc2e; } .dot.g { background: #28c840; }
    .address-bar {
      flex: 1;
      margin-left: 20px;
      background: rgba(0,0,0,0.3);
      padding: 5px 15px;
      border-radius: 6px;
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.8rem;
      color: #8b949e;
      display: flex;
      align-items: center;
    }
    .path-highlight { color: var(--accent); margin-left: 5px; }

    /* Contenido Principal */
    .finder-body { display: flex; flex: 1; overflow: hidden; }

    /* Sidebar */
    .sidebar {
      width: 240px;
      background: rgba(0,0,0,0.2);
      border-right: 1px solid var(--glass-border);
      padding: 20px 10px;
      display: flex;
      flex-direction: column;
      gap: 5px;
    }
    .sb-title { font-size: 0.75rem; text-transform: uppercase; color: #6e7681; margin: 10px 10px 5px; font-weight: 700; }
    
    .sb-item {
      padding: 10px 15px;
      border-radius: 6px;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 12px;
      color: #8b949e;
      transition: all 0.2s;
      font-size: 0.9rem;
    }
    .sb-item:hover { background: var(--folder-hover); color: white; }
    .sb-item.active { background: var(--accent-glow); color: var(--accent); border-left: 3px solid var(--accent); }
    .sb-item i { width: 20px; text-align: center; }

    /* Área de Archivos */
    .files-area {
      flex: 1;
      padding: 30px;
      overflow-y: auto;
    }

    .files-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
      gap: 20px;
    }

    /* Diseño del Archivo .MP4 (Simulado) */
    .file-card {
      background: rgba(255,255,255,0.03);
      border: 1px solid transparent;
      border-radius: 8px;
      padding: 15px;
      display: flex;
      flex-direction: column;
      align-items: center;
      cursor: pointer;
      transition: all 0.2s;
      position: relative;
      overflow: hidden;
    }

    .file-card:hover {
      background: rgba(255,255,255,0.08);
      border-color: rgba(255,255,255,0.1);
      transform: translateY(-5px);
    }

    .icon-box {
      font-size: 3rem;
      margin-bottom: 15px;
      color: #79c0ff; /* Azul archivo */
      position: relative;
    }
    
    /* Pequeña animación en el icono para simular "vida" */
    .file-card:hover .icon-box { animation: pulseIcon 1s infinite alternate; }
    @keyframes pulseIcon { from { transform: scale(1); } to { transform: scale(1.1); text-shadow: 0 0 15px #79c0ff; } }

    .badge-mp4 {
      position: absolute;
      bottom: 0; right: -5px;
      background: #1f6feb;
      color: white;
      font-size: 0.6rem;
      font-weight: bold;
      padding: 2px 4px;
      border-radius: 3px;
    }

    .file-name {
      font-size: 0.85rem;
      text-align: center;
      word-break: break-all;
      color: #e6edf3;
      margin-bottom: 4px;
    }
    .file-size { font-size: 0.7rem; color: #6e7681; }

    /* Animación de carga al cambiar carpeta */
    .fade-in { animation: fadeIn 0.4s ease forwards; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

    /* TOAST DE CARGA (Simulación al hacer clic) */
    .fake-loader {
      position: absolute;
      bottom: 20px; right: 20px;
      background: #161b22;
      border: 1px solid var(--accent);
      padding: 15px 25px;
      border-radius: 8px;
      display: flex;
      align-items: center;
      gap: 15px;
      transform: translateY(100px);
      transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      z-index: 100;
      box-shadow: 0 10px 30px rgba(0,0,0,0.5);
    }
    .fake-loader.show { transform: translateY(0); }
    .spinner {
      width: 20px; height: 20px;
      border: 2px solid var(--glass-border);
      border-top-color: var(--accent);
      border-radius: 50%;
      animation: spin 0.8s linear infinite;
    }
    @keyframes spin { to { transform: rotate(360deg); } }
    .loader-text { font-size: 0.9rem; color: var(--accent); }

  </style>
</head>
<body>

  <div id="lock-screen">
    <svg class="lock-icon-svg" viewBox="0 0 120 140">
      <path id="shackle" class="shackle" d="M 35 60 V 35 A 25 25 0 0 1 85 35 V 60" />
      <rect id="body-lock" class="body-lock" x="20" y="60" width="80" height="70" rx="10" />
      <circle fill="rgba(0,0,0,0.2)" cx="60" cy="90" r="5" />
      <rect fill="rgba(0,0,0,0.2)" x="58" y="90" width="4" height="10" />
    </svg>
    <div id="loading-msg" style="color: #666; letter-spacing: 2px;">VERIFICANDO...</div>
    <div id="status-msg" class="status-msg">ACCESO PREMIUM AUTORIZADO</div>
    <button id="enter-btn" class="enter-btn">INGRESAR AL SISTEMA</button>
  </div>

  <div id="desktop">
    <div class="window-bar">
      <div class="dots">
        <div class="dot r"></div><div class="dot y"></div><div class="dot g"></div>
      </div>
      <div class="address-bar">
        <i class="fas fa-desktop" style="margin-right:8px;"></i> root / user / <span id="path-display" class="path-highlight">premium_files</span>
      </div>
    </div>

    <div class="finder-body">
      <div class="sidebar">
        <div class="sb-title">Favoritos</div>
        <div class="sb-item active" onclick="loadFolder('premium')">
          <i class="fas fa-star" style="color: #e3b341;"></i> Premium Pack
        </div>
        <div class="sb-item" onclick="loadFolder('private')">
          <i class="fas fa-user-secret" style="color: #ff5f57;"></i> Privado (X)
        </div>
        <div class="sb-item" onclick="loadFolder('documents')">
          <i class="fas fa-file-alt"></i> Documentos
        </div>
        <div class="sb-title">Sistema</div>
        <div class="sb-item" onclick="loadFolder('trash')">
          <i class="fas fa-trash"></i> Papelera
        </div>
      </div>

      <div class="files-area">
        <div class="files-grid" id="grid-container">
          </div>
      </div>
    </div>
  </div>

  <div id="toast" class="fake-loader">
    <div class="spinner"></div>
    <div class="loader-text">Desencriptando archivo...</div>
  </div>

  <script>
    /* --- DATOS DE LAS CARPETAS (Simulación DB) --- */
    const fileSystem = {
      'premium': [
        { name: 'evento_exclusivo_01.mp4', size: '2.4 GB' },
        { name: 'backstage_full_hd.mp4', size: '1.1 GB' },
        { name: 'sesion_privada_cam1.mp4', size: '850 MB' },
        { name: 'material_sin_censura.mp4', size: '3.2 GB' },
        { name: 'extra_content_v2.mp4', size: '500 MB' },
        { name: 'vip_preview_2024.mp4', size: '1.5 GB' }
      ],
      'private': [
        { name: 'top_secret_evidence.mp4', size: '5 GB' },
        { name: 'grabacion_seguridad_A1.mp4', size: '120 MB' },
        { name: 'do_not_open.mp4', size: '666 MB' }
      ],
      'documents': [
        { name: 'leeme_primero.txt', size: '2 KB', icon: 'fa-file-lines', color: '#fff' },
        { name: 'contratos_vip.pdf', size: '4 MB', icon: 'fa-file-pdf', color: '#ff5f57' }
      ],
      'trash': []
    };

    /* --- LÓGICA DEL CANDADO --- */
    document.addEventListener("DOMContentLoaded", () => {
      // Secuencia Inicial (4 seg)
      setTimeout(() => {
        document.getElementById('shackle').classList.add('open');
        document.getElementById('body-lock').classList.add('open');
        document.getElementById('loading-msg').style.display = 'none';
        document.getElementById('status-msg').classList.add('visible');
        
        setTimeout(() => {
          document.getElementById('enter-btn').classList.add('visible');
        }, 500);
      }, 4000);

      // Botón Entrar
      document.getElementById('enter-btn').addEventListener('click', () => {
        document.getElementById('lock-screen').classList.add('slide-up');
        document.getElementById('desktop').classList.add('active');
        // Cargar carpeta por defecto
        loadFolder('premium');
      });
    });

    /* --- LÓGICA DEL EXPLORADOR --- */
    function loadFolder(folderKey) {
      const grid = document.getElementById('grid-container');
      const pathDisplay = document.getElementById('path-display');
      
      // Actualizar visualmente el sidebar activo
      document.querySelectorAll('.sb-item').forEach(el => el.classList.remove('active'));
      // (Truco simple: buscar por el onclick en el DOM actual, en producción se usarían IDs)
      const activeItem = Array.from(document.querySelectorAll('.sb-item')).find(el => el.getAttribute('onclick').includes(folderKey));
      if(activeItem) activeItem.classList.add('active');

      // Actualizar ruta
      pathDisplay.innerText = folderKey;
      pathDisplay.style.color = folderKey === 'private' ? '#ff5f57' : '#00e187';

      // Limpiar grid
      grid.innerHTML = '';

      // Obtener archivos
      const files = fileSystem[folderKey];

      if (files.length === 0) {
        grid.innerHTML = '<div style="color:#555; width:100%; grid-column:1/-1; text-align:center; padding-top:50px;">Carpeta Vacía</div>';
        return;
      }

      // Renderizar archivos con animación escalonada
      files.forEach((file, index) => {
        const iconClass = file.icon || 'fa-file-video';
        const iconColor = file.color || '#79c0ff';
        const badge = file.name.endsWith('.mp4') ? '<div class="badge-mp4">MP4</div>' : '';

        const card = document.createElement('div');
        card.className = 'file-card fade-in';
        card.style.animationDelay = `${index * 0.1}s`; // Efecto cascada
        card.innerHTML = `
          <div class="icon-box" style="color:${iconColor}">
            <i class="fas ${iconClass}"></i>
            ${badge}
          </div>
          <div class="file-name">${file.name}</div>
          <div class="file-size">${file.size}</div>
        `;
        
        // Simulación de Click en Archivo
        card.onclick = () => simulateFileOpen(file.name);
        
        grid.appendChild(card);
      });
    }

    function simulateFileOpen(filename) {
      const toast = document.getElementById('toast');
      const text = toast.querySelector('.loader-text');
      
      text.innerText = `Abriendo: ${filename}...`;
      toast.classList.add('show');

      // Ocultar toast después de 2.5 seg
      setTimeout(() => {
        toast.classList.remove('show');
      }, 2500);
    }
  </script>
</body>
</html>
